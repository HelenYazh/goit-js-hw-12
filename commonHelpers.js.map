{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\n\nexport function fetchImages(query) {\n    const API_KEY = \"43383270-573d9e698d4e4b734db4ac29f\";\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    });\n\n    return fetch(`https://pixabay.com/api/?${params}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status)\n            }\n\n            return response.json();\n        })\n        .then(data => {\n            return data.hits;\n        })\n        .catch(error => {\n            console.log(error);\n            \n        })\n\n}","const list = document.querySelector(\".gallery\");\n\nexport function createMarkup(arr) {\n\n    const markup = arr.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n        `<li class=\"gallery-item\">\n          <a href=\"${largeImageURL}\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" />\n          </a>\n          <ul>\n            <li><b>Likes</b> ${likes}</li>\n            <li><b>Views</b> ${views}</li>\n            <li><b>Comments</b> ${comments}</li>\n            <li><b>Downloads</b> ${downloads}</li>\n          </ul>\n        </li>`)\n        .join(\"\")\n\n    list.insertAdjacentHTML(\"beforeend\", markup);\n}\n\nexport function clearGallery() {\n    list.innerHTML = \"\";\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport axios from 'axios';\nimport { fetchImages } from \"../src/js/pixabay-api.js\";\nimport { createMarkup, clearGallery } from \"../src/js/render-functions.js\";\n\n\nconst form = document.querySelector(\".search-form\");\nconst input = document.querySelector(\"#search-input\");\nconst loader = document.querySelector('.loader');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nloader.style.display = \"none\";\nform.addEventListener(\"submit\", handleSubmit);\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n\n    if (input.value.trim() === \"\") {\n        return;\n    }\n    loader.style.display = \"block\";\n    clearGallery();\n\n    fetchImages(input.value.trim())\n        .then(img => {\n            if (img.length === 0) {\n                iziToast.error({\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    position: \"topRight\",\n                })\n            };\n            createMarkup(img);\n            lightbox.refresh();\n        })\n        .catch(error => console.log(error))\n        .finally(() => loader.style.display = \"none\")\n\n\n}"],"names":["fetchImages","query","API_KEY","params","response","data","error","list","createMarkup","arr","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","form","input","loader","lightbox","SimpleLightbox","handleSubmit","event","img","iziToast"],"mappings":"6vBAGO,SAASA,EAAYC,EAAO,CAC/B,MAAMC,EAAU,qCACVC,EAAS,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,4BAA4BE,CAAM,EAAE,EAC5C,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGnC,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAKC,GACKA,EAAK,IACf,EACA,MAAMC,GAAS,CACZ,QAAQ,IAAIA,CAAK,CAE7B,CAAS,CAET,CC7BA,MAAMC,EAAO,SAAS,cAAc,UAAU,EAEvC,SAASC,EAAaC,EAAK,CAE9B,MAAMC,EAASD,EAAI,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAC5F;AAAA,qBACaL,CAAa;AAAA,sBACZD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,+BAGjBC,CAAK;AAAA,+BACLC,CAAK;AAAA,kCACFC,CAAQ;AAAA,mCACPC,CAAS;AAAA;AAAA,cAE9B,EACL,KAAK,EAAE,EAEZV,EAAK,mBAAmB,YAAaG,CAAM,CAC/C,CAEO,SAASQ,GAAe,CAC3BX,EAAK,UAAY,EACrB,CCdA,MAAMY,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClB,CAAC,EAEDF,EAAO,MAAM,QAAU,OACvBF,EAAK,iBAAiB,SAAUK,CAAY,EAE5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EAEhBL,EAAM,MAAM,KAAI,IAAO,KAG3BC,EAAO,MAAM,QAAU,QACvBH,IAEAlB,EAAYoB,EAAM,MAAM,MAAM,EACzB,KAAKM,GAAO,CACLA,EAAI,SAAW,GACfC,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAC9B,CAAiB,EAELnB,EAAakB,CAAG,EAChBJ,EAAS,QAAO,CAC5B,CAAS,EACA,MAAMhB,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAMe,EAAO,MAAM,QAAU,MAAM,EAGpD"}